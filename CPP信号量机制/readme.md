通过cpp模拟信号量机制